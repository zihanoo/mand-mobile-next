var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,t,a)=>(i(e,"symbol"!=typeof t?t+"":t,a),a);import{g as s,y as l,h as o,e as d,o as u,z as p,$ as h,n as v,at as c,A as g,a as y,i as f,d as m,j as w,F as b,k as x,f as I,ai as P,a3 as H,au as C}from"./app.49a262c4.js";var S=class{constructor(e,t){r(this,"draging"),r(this,"startX"),r(this,"startY"),r(this,"isPrevent",!0),r(this,"$el"),r(this,"dragHandler"),r(this,"startHandler"),r(this,"endHandler"),r(this,"position"),this.draging=!1,this.$el=e,this.startX=0,this.startY=0,this.position=t,this.dragHandler=e=>this.onDrag(e),this.startHandler=e=>this.onDragStart(e),this.endHandler=e=>this.onDragEnd(e),this.initEvent()}initEvent(){this.$el.addEventListener("touchstart",this.startHandler),this.$el.addEventListener("touchmove",this.dragHandler),this.$el.addEventListener("touchend",this.endHandler)}onDragStart(e){this.draging=!0,this.position&&(this.position.draging=!0),this.preventHandler(e),this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY}onDrag(e){this.draging=!0,this.position&&(this.position.draging=!0),this.preventHandler(e),e.touches[0]&&this.position&&(this.position.x=e.touches[0].pageX,this.position.y=e.touches[0].pageY)}onDragEnd(e){this.draging=!1,this.position&&(this.position.draging=!1),this.preventHandler(e),this.position&&(this.position.deltaX=this.position.x-this.startX)}preventHandler(e){this.isPrevent&&(e.preventDefault(),e.stopPropagation())}destory(){this.$el.removeEventListener("touchstart",this.startHandler),this.$el.removeEventListener("touchmove",this.dragHandler),this.$el.removeEventListener("touchend",this.endHandler)}},X={autoplay:{type:Number,default:3e3,validator:e=>0===e||e>=500},transition:{type:String,default:"slide",validator:e=>["slide","slideY","fade"].includes(e)},defaultIndex:{type:Number,default:0,validator:e=>e>-1},hasDots:{type:Boolean,default:!0},isPrevent:{type:Boolean,default:!0},isLoop:{type:Boolean,default:!0},dragable:{type:Boolean,default:!0}};function E(e,r){return P.use(C),new P(e,((e,r)=>{for(var s in r||(r={}))a.call(r,s)&&i(e,s,r[s]);if(t)for(var s of t(r))n.call(r,s)&&i(e,s,r[s]);return e})({bounce:!1,deceleration:.1,probeType:3,momentum:!1},r))}var $=(e,{emit:t,slots:a})=>{let n=null;const i=l(null),r=o((()=>"slideY"===e.transition)),s=o((()=>{var e,t;return(null==(t=null==(e=a.default)?void 0:e.call(a)[0].children)?void 0:t.length)||0})),y=l(e.defaultIndex),f=e=>{y.value=e},m=()=>{i.value&&!n&&(n=E(i.value,{scrollX:!r.value,scrollY:r.value,slide:{threshold:100,autoplay:0!==e.autoplay,interval:e.autoplay,startPageXIndex:r.value?0:e.defaultIndex,startPageYIndex:r.value?e.defaultIndex:0,loop:e.isLoop},click:!e.isPrevent,disableTouch:!e.dragable,disableMouse:!e.dragable})),null==n||n.on("slidePageChanged",(e=>{const a=d(r)?e.pageY:e.pageX;t("afterChange",y.value,a),f(a)})),null==n||n.on("slideWillChange",(e=>{const a=d(r)?e.pageY:e.pageX;t("beforeChange",y.value,a),f(a)}))};let w=null;u((()=>{var a;const n=null==(a=i.value)?void 0:a.getBoundingClientRect();"fade"!==e.transition&&(null==n?void 0:n.width)&&n.height&&m(),"fade"===e.transition&&i.value&&(w=function(e,t,a,n){var i,r,s;const l=c(),o=400,d=v({x:0,y:0,deltaX:0,draging:!1}),u=H(),h=null==(r=(null==(i=null==u?void 0:u.proxy)?void 0:i.$el).querySelector(".md-swiper-container"))?void 0:r.children,y=null==(s=null==h?void 0:h[0])?void 0:s.getBoundingClientRect(),f=Array.from(h||[]);e.style.height=(null==y?void 0:y.height)?(null==y?void 0:y.height)+"px":"0px",f[0].style.opacity="1";const m=new S(e,d);let w;p((()=>m.destory())),l.run((()=>{g((()=>d.deltaX),(e=>{const a=e<0;Math.abs(e)>((null==y?void 0:y.width)||0)/5&&(t.value=a?t.value+1:t.value-1,-1===t.value&&(t.value=f.length-1),t.value===f.length&&(t.value=0))})),g(t,((e,t)=>{f.forEach((e=>{e.style.transition=`opacity ${o}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`,e.style.opacity="0",e.style.zIndex="0",e.ontransitionend=null,e.ontransitionstart=null}));const a=f[e];a.style.opacity="1",a.style.zIndex="1",a.ontransitionstart=function(){n("beforeChange",t,e)},a.ontransitionend=function(){n("afterChange",t,e)}})),g((()=>d.draging),(e=>{e?stop():x()}))}));const b=()=>{w&&clearTimeout(w),w=null},x=()=>{a.autoplay>500&&f.length>1&&(b(),w=globalThis.setInterval((()=>{t.value=t.value+1,a.isLoop||t.value!==f.length-1?(-1===t.value&&(t.value=f.length-1),t.value===f.length&&(t.value=0)):I()}),a.autoplay+o))},I=()=>{b()};return x(),p((()=>{I(),l.stop()})),d}(i.value,y,e,t))})),p((()=>{null==n||n.destroy()})),h("swiper",v({currentIndex:y}));const b=()=>n;return{wrapRef:i,renderSwiper:m,resetSwiper:()=>{n&&(n.destroy(),n=null,m())},indicatorCount:s,currentIndex:y,isVertical:r,getSwiperInstance:b,goto:(e,t)=>{var a;return null==(a=b())?void 0:a.goToPage(e,t)},prev:()=>{var e;return null==(e=b())?void 0:e.prev()},next:()=>{var e;return null==(e=b())?void 0:e.next()},startPlay:()=>{var t;"fade"===e.transition?w&&(w.draging=!1):null==(t=b())||t.startPlay()},stop:()=>{var t;"fade"===e.transition?w&&(w.draging=!0):null==(t=b())||t.pausePlay()},getIndex:()=>y.value}};var D=s({name:"MdSwiper",props:X,emits:["beforeChange","afterChange"],setup(e,t){const{indicatorCount:a,wrapRef:n,renderSwiper:i,resetSwiper:r,currentIndex:s,getSwiperInstance:l,isVertical:o,goto:d,next:u,prev:p,getIndex:h,startPlay:v,stop:c}=$(e,t);return{indicatorCount:a,currentIndex:s,wrapper:n,renderSwiper:i,resetSwiper:r,getSwiperInstance:l,isVertical:o,goto:d,next:u,prev:p,getIndex:h,startPlay:v,stop:c}}}),Y={ref:"wrapper",class:"md-swiper-box"},L={class:"md-swiper-container"};D.render=function(e,t){return y(),f("div",{class:["md-swiper",{"md-swiper-vertical":e.isVertical,"md-swiper-fade":"fade"===e.transition}]},[m("div",Y,[m("div",L,[w(e.$slots,"default")])],512),e.indicatorCount>1&&e.hasDots?(y(),f("div",{key:0,class:["md-swiper-indicators",{disabled:!e.hasDots}]},[(y(!0),f(b,null,x(e.indicatorCount,(t=>(y(),f("div",{key:t,class:["md-swiper-indicator",{"md-swiper-indicator-active":t-1===e.currentIndex}]},null,2)))),128))],2)):I("v-if",!0)],2)};var j=D;j.install=e=>{e.component(j.name,j)};var B=j;export{S as D,B as s};
