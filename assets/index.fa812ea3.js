var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(n,t,a)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,c=(e,n)=>{for(var t in n||(n={}))l.call(n,t)&&s(e,t,n[t]);if(a)for(var t of a(n))o.call(n,t)&&s(e,t,n[t]);return e};import{g as i,s as r,M as u,y as d,n as p,I as m,A as h,h as y,U as b,r as v,a as f,i as x,f as S,d as g,j as C,l as T,m as k,t as w,F as O,k as M,c as V,e as H,p as P,q as B}from"./app.49a262c4.js";import{p as j,t as A}from"./index.b8050ceb.js";import{c as L}from"./index.8198e358.js";import{b as _}from"./index.6f769c71.js";import{b as D}from"./index.432743f6.js";import{l as I}from"./index.49872726.js";import{t as $}from"./index.02bb6ec7.js";import{c as N}from"./animate.c6da258d.js";var z={visible:{type:Boolean,default:!1},title:{type:String,default:$("md.cashier.pay")},describe:{type:String,default:""},channels:{type:Array,default:()=>[]},channelLimit:{type:Number,default:2},defaultIndex:{type:Number,default:0},paymentTitle:{type:String,default:$("md.cashier.payCash")},paymentAmount:{type:String,default:"0.00"},paymentDescribe:{type:String,default:""},payButtonText:{type:String,default:$("md.cashier.confirmPay")},payButtonDisabled:{type:Boolean,default:!1},moreButtonText:{type:String,default:$("md.cashier.morePayWays")}},U={paymentTitle:{type:String,default:""},paymentAmount:{type:String,default:""},paymentDescribe:{type:String,default:""},moreButtonText:{type:String,default:""},payButtonText:{type:String,default:""},payButtonDisabled:{type:Boolean,default:!1},channels:{type:Array,default:""},channelLimit:{type:Number,default:0},modelValue:{type:[Number,String],default:""}},F=i({components:{MdIcon:r,MdRadioList:I,MdButton:D},props:U,emits:["pay","update:modelValue"],setup(e,n){const{innerValue:t,isSingle:a,currentIndex:l,isChannelShow:o,toggleShowAllChannel:s,channelPayClick:c,displayChannels:i}=((e,{emit:n})=>{const t=y({get:()=>e.modelValue,set:e=>n(b,e)}),a=y((()=>e.channelLimit<1||e.channels.length>e.channelLimit)),l=y((()=>e.channels.findIndex((n=>n.value===e.modelValue)))),o=d(!1),s=y((()=>o.value?e.channels:[e.channels[-1!==l.value?l.value:0]]));return{innerValue:t,isSingle:a,currentIndex:l,isChannelShow:o,toggleShowAllChannel:()=>{o.value=!o.value},channelPayClick:()=>{const t=e.channels[l.value];n("pay",t)},displayChannels:s}})(e,n);return{innerValue:t,isSingle:a,currentIndex:l,displayChannels:i,isChannelShow:o,toggleShowAllChannel:s,channelPayClick:c}}}),R={class:"md-cashier-channel"},Q={class:"choose-text"},q={class:"choose-channel"},E={class:"choose-channel-list"},W={key:1,class:"item-image"},G={class:"md-cashier-block-btn"};F.render=function(e,n){const t=v("md-icon"),a=v("md-radio-list"),l=v("md-button");return f(),x(O,null,[S(" eslint-disable vue/no-v-html "),g("div",R,[g("div",Q,[e.paymentTitle?(f(),x("p",{key:0,class:"choose-title",innerHTML:e.paymentTitle},null,8,["innerHTML"])):S("v-if",!0),e.paymentAmount?(f(),x("p",{key:1,class:"choose-number",innerHTML:e.paymentAmount},null,8,["innerHTML"])):S("v-if",!0),e.paymentDescribe?(f(),x("p",{key:2,class:"choose-describe",innerHTML:e.paymentDescribe},null,8,["innerHTML"])):S("v-if",!0)]),g("div",q,[C(e.$slots,"default"),g("div",E,[g(a,{modelValue:e.innerValue,"onUpdate:modelValue":n[1]||(n[1]=n=>e.innerValue=n),options:e.isSingle?e.displayChannels:e.channels,"icon-position":"right"},{left:T((({option:e})=>[e.icon?(f(),x(t,{key:0,name:e.icon,size:"lg"},null,8,["name"])):e.img?(f(),x("div",W,[g("img",{src:e.img},null,8,["src"])])):S("v-if",!0)])),_:1},8,["modelValue","options"])]),e.isSingle?(f(),x("div",{key:0,class:["choose-channel-more",[e.isChannelShow?"active":""]],onClick:n[2]||(n[2]=(...n)=>e.toggleShowAllChannel&&e.toggleShowAllChannel(...n)),innerHTML:e.moreButtonText},null,10,["innerHTML"])):S("v-if",!0)]),g("div",G,[g(l,{class:"md-cashier-pay-button",type:e.payButtonDisabled?"disabled":"primary",onClick:e.channelPayClick},{default:T((()=>[C(e.$slots,"button",{},(()=>[k(w(e.payButtonText),1)]))])),_:3},8,["type","onClick"])])])],2112)};var J=F,K=i({name:"MdCashierChannelButton",components:{[D.name]:D},props:{actions:{type:Array,default:()=>[]}}}),X={class:"md-cashier-block-btn"};K.render=function(e,n){const t=v("md-button");return f(),x("div",X,[S(" eslint-disable vue/no-v-html"),(f(!0),x(O,null,M(e.actions,((n,a)=>(f(),x(t,{key:a,type:a===e.actions.length-1?"primary":"default",inline:e.actions.length>1,onClick:()=>{n.handler&&n.handler()},innerHTML:n.buttonText},null,8,["type","inline","onClick","innerHTML"])))),128))])};var Y=i({name:"MdCashier",components:{MdPopup:j,MdPopupTitleBar:A,MdCashierChannel:J,MdIcon:r,MdCaptcha:L,MdActivityIndicatorSuccess:_,MdCashierChannelButton:K},props:z,emits:["pay","hide","update:visible","show","select"],setup(e,n){const{popupShow:t,onShow:a,onHide:l,hide:o,scene:s,sceneOption:i,currentPayChannelValue:r,payHandler:y,next:b}=((e,{emit:n})=>{const{popupShow:t,onShow:a,onHide:l,hide:o}=u(e,n),s=d("choose"),i=p({loading:{text:$("md.cashier.payResultSearch")},success:{text:$("md.cashier.paySuccess"),buttonText:$("md.cashier.confirm"),handler:null},fail:{text:$("md.cashier.payFail"),buttonText:$("md.cashier.confirm"),handler:null},captcha:{text:"",brief:"",maxlength:4,count:60,autoCountdown:!0,onSend:m,onSubmit:m,countNormalText:"",countActiveText:""}}),r=d(e.channels[0].value);return h(r,(e=>{n("select",e)})),{popupShow:t,onShow:a,onHide:l,hide:o,scene:s,sceneOption:i,currentPayChannelValue:r,payHandler:()=>{n("pay",r)},next:(e,n={})=>{s.value=e,i[s.value]=c(c({},i[s.value]),n)}}})(e,n);return{popupShow:t,onShow:a,onHide:l,hide:o,scene:s,sceneOption:i,currentPayChannelValue:r,payHandler:y,next:b}}}),Z={class:"md-cashier-container"},ee={key:0,class:"md-cashier-block md-cashier-choose"},ne={class:"md-cashier-block md-cashier-captcha"},te={class:"md-cashier-block-icon"},ae={class:"md-cashier-block-text"},le={class:"md-cashier-block md-cashier-fail"},oe={class:"md-cashier-block-icon"},se={class:"md-cashier-block md-cashier-custom"};Y.render=function(e,n){const t=v("md-popup-title-bar"),a=v("md-cashier-channel"),l=v("md-captcha"),o=v("md-activity-indicator-success"),s=v("md-cashier-channel-button"),c=v("md-icon"),i=v("md-popup");return f(),x(i,{modelValue:e.popupShow,"onUpdate:modelValue":n[2]||(n[2]=n=>e.popupShow=n),class:"md-cashier",position:"bottom","mask-closable":!1,"prevent-scroll":!0,"prevent-scroll-exclude":".md-cashier-container",onHide:e.onHide,onShow:e.onShow},{default:T((()=>[g(t,{title:e.title,describe:e.describe,"only-close":"",onCancel:e.hide},null,8,["title","describe","onCancel"]),g("div",Z,[C(e.$slots,"header",{scene:e.scene}),S(" Choose pay channel "),"choose"===e.scene?(f(),x("div",ee,[g(a,{modelValue:e.currentPayChannelValue,"onUpdate:modelValue":n[1]||(n[1]=n=>e.currentPayChannelValue=n),"payment-title":e.paymentTitle,"payment-amount":e.paymentAmount,"payment-describe":e.paymentDescribe,"more-button-text":e.moreButtonText,"pay-button-text":e.payButtonText,"pay-button-disabled":e.payButtonDisabled,channels:e.channels,"channel-limit":e.channelLimit,onPay:e.payHandler},null,8,["modelValue","payment-title","payment-amount","payment-describe","more-button-text","pay-button-text","pay-button-disabled","channels","channel-limit","onPay"])])):"captcha"===e.scene?(f(),x(O,{key:1},[S(" Captcha "),g("div",ne,[g(l,{ref:"captcha",maxlength:e.sceneOption.captcha.maxlength,count:e.sceneOption.captcha.count,"count-normal-text":e.sceneOption.captcha.countNormalText,"count-active-text":e.sceneOption.captcha.countActiveText,"auto-countdown":e.sceneOption.captcha.autoCountdown,brief:e.sceneOption.captcha.brief,"is-view":"",onSend:e.sceneOption.captcha.onSend,onSubmit:e.sceneOption.captcha.onSubmit},{default:T((()=>[g("div",{textContent:w(e.sceneOption.captcha.text)},null,8,["textContent"])])),_:1},8,["maxlength","count","count-normal-text","count-active-text","auto-countdown","brief","onSend","onSubmit"])])],2112)):"loading"===e.scene||"success"===e.scene?(f(),x(O,{key:2},[S(" Loaing, Success "),g("div",{class:["md-cashier-block",{"md-cashier-loading":"loading"===e.scene,"md-cashier-success":"success"===e.scene}]},[g("div",te,[g(o,{ref:"rolling","is-success":"success"===e.scene},null,8,["is-success"])]),g("div",ae,w("success"===e.scene?e.sceneOption.success.text:e.sceneOption.loading.text),1),"success"===e.scene?(f(),x(s,{key:0,actions:e.sceneOption.success.actions||[{buttonText:e.sceneOption.success.buttonText,handler:e.sceneOption.success.handler}]},null,8,["actions"])):S("v-if",!0)],2)],2112)):"fail"===e.scene?(f(),x(O,{key:3},[S(" Fail "),g("div",le,[g("div",oe,[g(c,{name:"warn-color"})]),g("div",{class:"md-cashier-block-text",textContent:w(e.sceneOption.fail.text)},null,8,["textContent"]),g(s,{actions:e.sceneOption.fail.actions||[{buttonText:e.sceneOption.fail.buttonText,handler:e.sceneOption.fail.handler}]},null,8,["actions"])])],2112)):"custom"===e.scene?(f(),x(O,{key:4},[S(" Custom "),g("div",se,[C(e.$slots,"scene")])],2112)):S("v-if",!0),C(e.$slots,"footer",{scene:e.scene})])])),_:3},8,["modelValue","onHide","onShow"])};var ce=Y;ce.install=e=>{e.component(ce.name,ce)};var ie=ce;const re=k("唤起收银台");var ue,de=i((ue=c({},{name:"CashierDemo",title:"基本"}),n(ue,t({setup(e){const n=d(!1),t=d([{icon:"cashier-icon-1",text:"招商银行(0056)",value:"001"},{icon:"cashier-icon-2",text:"支付宝支付",value:"002"},{icon:"cashier-icon-3",text:"微信支付",value:"003"},{icon:"cashier-icon-4",text:"QQ钱包支付",value:"004"},{icon:"cashier-icon-5",text:"一网通支付",value:"005"}]),a=d(null),l=()=>{console.log(a.value),a.value.next("captcha",{text:"Verification code sent to 156 **** 8965",brief:"The latest verification code is still valid",autoCountdown:!1,countNormalText:"Send Verification code",countActiveText:"Retransmission after {$1}s",onSend:e=>{console.log("[Mand Mobile] Send Captcha"),e()},onSubmit:e=>{console.log(`[Mand Mobile] Send Submit ${e}`),a.value.next("loading"),setTimeout((()=>{a.value.next("success")}),2e3)}})};return(e,o)=>(f(),V(O,null,[g(H(D),{onClick:o[0]||(o[0]=e=>n.value=!n.value)},{default:T((()=>[re])),_:1}),g(H(ie),{ref:a,visible:n.value,"onUpdate:visible":o[1]||(o[1]=e=>n.value=e),class:"md-cashier-demo",channels:t.value,"channel-limit":2,"payment-amount":"100.00","payment-describe":"关于支付金额的特殊说明",onPay:l},null,8,["visible","channels"])],64))}})))),pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:de});const me={"./demo0.vue":pe};var he=N("Cashier",Object.entries(me).map((e=>e[1].default)));const ye={class:"md-nav"},be=P("p",{class:"name"},"Cashier",-1),ve=P("p",{class:"name-zh"},"收银台",-1),fe={class:"md-example cashier"},xe=["textContent"],Se=["textContent"],ge={class:"md-example-content"};he.render=function(e,n,t,a,l,o){const s=v("md-icon");return f(),V(O,null,[P("div",ye,[P("p",{class:"home",onClick:n[0]||(n[0]=n=>e.$router.push("/"))},[g(s,{name:"home",size:"lg"})]),be,ve]),P("div",fe,[(f(!0),V(O,null,M(e.demos,((e,n)=>(f(),V("section",{key:n,class:"md-example-section"},[P("div",{class:"md-example-title",textContent:w(e.title)},null,8,xe),P("div",{class:"md-example-describe",textContent:w(e.describe)},null,8,Se),P("div",ge,[(f(),x(B(e)))])])))),128))])],64)};var Ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:he});export{pe as _,Ce as a};
