var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,d=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,o=(e,l)=>{for(var a in l||(l={}))r.call(l,a)&&d(e,a,l[a]);if(t)for(var a of t(l))n.call(l,a)&&d(e,a,l[a]);return e},u=(e,t)=>l(e,a(t));import{g as i,U as s,y as m,h as c,a9 as p,o as v,A as g,z as f,n as h,r as b,a as y,i as x,d as S,j as V,F as _,k as j,l as w,Y as O,c as H,e as R,p as T,t as E,q as M}from"./app.49a262c4.js";import{t as D}from"./index.9565556e.js";import{D as z}from"./index.8a851d99.js";import{c as P}from"./animate.c6da258d.js";var $={modelValue:{type:[Array,Number],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1,validator:e=>e>0&&Number.isSafeInteger(e)},range:{type:Boolean,default:!1},format:{type:Function,default:e=>e},disabled:{type:Boolean,default:!1},hasTip:{type:Boolean,default:!0},tipPlacement:{type:String,default:"top"}},C=(e,{emit:l})=>{const a=m(null),t=m(null),r=m(null),n=m({width:0,height:0,top:0,bottom:0,left:0,right:0}),d=m([]),o=m(null),{position:u,winDragger:i}=function(){const e=h({x:0,y:0,deltaX:0,draging:!1}),l=new z(window,e);return l.isPrevent=!1,l.destory(),{winDragger:l,position:e}}(),b=m(0),y=m(0);let x,S=null;const V=c((()=>Array.isArray(e.modelValue))),_=c({get:()=>e.modelValue,set:e=>l(s,e)});p((()=>{d.value=[]})),v((()=>{Object.keys(n.value).forEach((e=>{var l,a;n.value[e]=null!=(a=null==(l=r.value)?void 0:l.getBoundingClientRect()[e])?a:0})),x=n.value.width/(e.max-e.min),b.value=V.value?(e.modelValue[1]-e.modelValue[0])*x:(e.modelValue-e.min)*x,y.value=V.value?(e.modelValue[0]-e.min)*x:0,V.value?(d.value[0].style.left=`${y.value}px`,d.value[1].style.left=`${y.value+b.value}px`):d.value[0].style.left=`${b.value}px`}));return g((()=>u.draging),(e=>{var l;const a=null==(l=o.value)?void 0:l.parentElement;e&&a?a.classList.add("is-active"):a&&(a.classList.remove("is-active"),o.value=null,i.destory())})),f((()=>{i.destory()})),{tipRef:a,tipRefHigther:t,barRef:r,draggers:d,position:u,dragStartHandler:l=>{var n,s,m;i.initEvent(),function(e,l){e.preventDefault(),e.stopPropagation(),l.value=e.target}(l,o);const c=null==(n=d.value[0])?void 0:n.contains(o.value);e.hasTip&&(c?null==(s=a.value)||s.triggerShow(!0):null==(m=t.value)||m.triggerShow(!0)),S=g((()=>u.x),(l=>{var a,t,n;const{x:d,width:u}=null!=(t=null==(a=r.value)?void 0:a.getBoundingClientRect())?t:{x:0,width:0},i=null==(n=o.value)?void 0:n.parentElement,s=Math.round((l-d)/x),m=Math.round(s/e.step)*e.step;l-d>0&&!(l>u+d)&&(V.value?(_.value=c?[Math.min(m+e.min,e.modelValue[1]),e.modelValue[1]]:[e.modelValue[0],Math.max(m+e.min,e.modelValue[0])],O((()=>{b.value=(e.modelValue[1]-e.modelValue[0])*x,y.value=(e.modelValue[0]-e.min)*x,i.style.left=c?`${y.value}px`:`${y.value+b.value}px`}))):(_.value=m+e.min,b.value=m*x,i.style.left=`${b.value}px`))}))},dragEndHandler:()=>{var l,r,n;e.hasTip&&((null==(l=d.value[0])?void 0:l.contains(o.value))?null==(r=a.value)||r.triggerShow(!1):null==(n=t.value)||n.triggerShow(!1)),null==S||S(),S=null},currentWidth:b,currentLeft:y,realValue:_,isRange:V}};var A=i({name:"MdSlider",components:{MdTip:D},props:$,emits:[s],setup(e,l){const{tipRef:a,tipRefHigther:t,dragStartHandler:r,dragEndHandler:n,draggers:d,barRef:o,position:u,currentWidth:i,currentLeft:s,realValue:m,isRange:c}=C(e,l);return{tip:a,tipHigther:t,dragStartHandler:r,dragEndHandler:n,draggers:d,slider:o,position:u,currentWidth:i,currentLeft:s,realValue:m,isRange:c}}});A.render=function(e,l){const a=b("md-tip");return y(),x("div",{ref:"slider",role:"slider",class:["md-slider",{"is-disabled":e.disabled}]},[S("div",{class:"md-slider-bar",style:{width:e.currentWidth+"px",left:e.currentLeft+"px"}},null,4),V(e.$slots,"dragger",{value:e.modelValue,onTouchStart:e.dragStartHandler,onTouchEnd:e.dragEndHandler,refs:e.draggers,isRange:e.isRange,format:e.format},(()=>[(y(!0),x(_,null,j(e.isRange?[0,1]:[0],(t=>(y(),x("div",{key:t,ref:l=>e.draggers[t]=l,class:["md-slider-handle",[1===t?"is-higher":""]]},[S(a,{ref:0===t?"tip":"tipHigther",name:"slider-tip",closable:!1,placement:e.tipPlacement,content:Array.isArray(e.realValue)?e.format(e.realValue[t].toString()):e.format(e.realValue.toString())},{default:w((()=>[S("span",{onTouchstart:l[1]||(l[1]=(...l)=>e.dragStartHandler&&e.dragStartHandler(...l)),onTouchend:l[2]||(l[2]=(...l)=>e.dragEndHandler&&e.dragEndHandler(...l))},null,32)])),_:2},1032,["placement","content"])],2)))),128))]))],2)};var L=A;L.install=e=>{e.component(L.name,L)};var U=L;const k={class:"md-example-child md-example-child-slider-0"};var B=i(u(o({},{name:"SliderDemo",title:"基本"}),{setup(e){const l=m(10);return(e,a)=>(y(),H("div",k,[S(R(U),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,8,["modelValue"])]))}})),N=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:B});const W={class:"md-example-child md-example-child-slider-0"};var F=i(u(o({},{name:"SliderDemo",title:"禁用"}),{setup(e){const l=m(55);return(e,a)=>(y(),H("div",W,[S(R(U),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),disabled:!0},null,8,["modelValue"])]))}})),I=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:F});const q={class:"md-example-child md-example-child-slider-0"};var X=i(u(o({},{name:"SliderDemo",title:"范围"}),{setup(e){const l=m([25,55]);return(e,a)=>(y(),H("div",q,[S(R(U),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,8,["modelValue"])]))}})),Y=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X});const G={class:"md-example-child md-example-child-slider-0"};var J=i(u(o({},{name:"SliderDemo",title:"步长与格式化"}),{setup(e){const l=m(20);return(e,a)=>(y(),H("div",G,[S(R(U),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),step:5,format:e=>`￥${e}`},null,8,["modelValue","format"])]))}})),K=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J});const Q={class:"md-example-child md-example-child-slider-0"};var Z=i(u(o({},{name:"SliderDemo",title:"边界值"}),{setup(e){const l=m([10,80]);return(e,a)=>(y(),H("div",Q,[S(R(U),{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),min:10,max:80},null,8,["modelValue"])]))}})),ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z});const le={"./demo0.vue":N,"./demo1.vue":I,"./demo2.vue":Y,"./demo3.vue":K,"./demo4.vue":ee};var ae=P("Slider",Object.entries(le).map((e=>e[1].default)));const te={class:"md-nav"},re=T("p",{class:"name"},"Slider",-1),ne=T("p",{class:"name-zh"},"滑块",-1),de={class:"md-example slider"},oe=["textContent"],ue=["textContent"],ie={class:"md-example-content"};ae.render=function(e,l,a,t,r,n){const d=b("md-icon");return y(),H(_,null,[T("div",te,[T("p",{class:"home",onClick:l[0]||(l[0]=l=>e.$router.push("/"))},[S(d,{name:"home",size:"lg"})]),re,ne]),T("div",de,[(y(!0),H(_,null,j(e.demos,((e,l)=>(y(),H("section",{key:l,class:"md-example-section"},[T("div",{class:"md-example-title",textContent:E(e.title)},null,8,oe),T("div",{class:"md-example-describe",textContent:E(e.describe)},null,8,ue),T("div",ie,[(y(),x(M(e)))])])))),128))])],64)};var se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ae});export{N as _,I as a,Y as b,K as c,ee as d,se as e};
