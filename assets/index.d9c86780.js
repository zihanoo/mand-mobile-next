import{g as t,y as e,A as a,H as r,P as n,Q as i,I as o}from"./app.49a262c4.js";import{f as s}from"./index.d959762e.js";var l=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],u=["","拾","佰","仟"],p=["","万","亿","兆"],d=["角","分","厘","毫"];var f={value:{type:Number,default:void 0},precision:{type:Number,default:2},isRoundUp:{type:Boolean,default:!0},hasSeparator:{type:Boolean,default:!1},separator:{type:String,default:","},unit:{type:String,default:""},reverse:{type:Boolean,default:!1},transition:{type:Boolean,default:!1},isCapital:{type:Boolean,default:!1},duration:{type:Number,default:1e3}},m=t=>({doPrecision:e=>{const a=Number(`${e}e${t.precision}`),r=t.isRoundUp?Math.round(a):Math.floor(a);return Number(`${r}e-${t.precision}`).toFixed(t.precision)},doCapital:t=>function(t){let e,a,r,n,i="";if(""===t)return"";if("string"==typeof t&&(t=parseFloat(t)),t<0&&(e=!0,t=Math.abs(t)),t>=1e15)return"";if(0===t)return i=l[0]+"元整",i;if(-1===(t+="").indexOf(".")?(a=t,r=""):(n=t.split("."),a=n[0],r=n[1].substr(0,4)),parseInt(a,10)>0){let t=0;for(let e=0,r=a.length;e<r;e++){const n=a.substr(e,1),o=r-e-1,s=o/4,d=o%4;"0"===n?t++:(t>0&&(i+=l[0]),t=0,i+=l[parseInt(n)]+u[d]),0===d&&t<4&&(i+=p[s])}i+="元"}if(""!==r)for(let o=0,s=r.length;o<s;o++){const t=r.substr(o,1);"0"!==t&&(i+=l[Number(t)]+d[o])}return""===i?i+=l[0]+"元整":""===r&&(i+="整"),e&&(i=`负${i}`),i}(t),doFormat:e=>{if(!t.hasSeparator)return e;const a=e.split(".");return`${Number(a[0])<0?"-":""}${s(a[0].replace(/^\-/,""),t.separator)}.${a[1]}`},doAnimateDisplay:(e,a=0,r=0)=>{if(!t.transition)return e.value;return i.start((t=>{e.value=1!==t?a+(r-a)*t:r}),(t=>t),o,t.duration),e.value}}),c=t({name:"MdAmount",props:f,setup(t,{slots:i}){var o,s;const l=(null==(o=i.default)?void 0:o.call(i))||[],u=(null==(s=i.unit)?void 0:s.call(i))||[],{doFormat:p,doPrecision:d,doCapital:f,doAnimateDisplay:c}=m(t),v=()=>{var e,a;return t.value||(null==(a=null==(e=l[0])?void 0:e.children)?void 0:a.toString().trim())||0},y=e(0);t.transition&&a((()=>t.value),((t,e)=>{c(y,e,t)}),{immediate:!0});const b=()=>[t.unit||u,t.transition?null:t.isCapital?f(v()):n?p(d(v())):v(),t.transition?p(d(y.value+"")):null];return()=>r("span",{class:{"md-amount":!0,numerical:!t.isCapital}},t.reverse?b().reverse():b())}});c.install=t=>{t.component(c.name,c)};var v=c;export{v as a};
